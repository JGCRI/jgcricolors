---
title: "vignette_examples"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{vignette_examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


<style type="text/css">
.column-left{
  float: left;
  width: 50%;
}
.column-right{
  float: right;
  width: 50%;
}
.clearer {clear: both}
</style>

<!-------------------------->
<!-------------------------->
# Key Links
<!-------------------------->
<!-------------------------->

- Github: https://github.com/JGCRI/jgcricolors
- Webpage: https://jgcri.github.io/jgcricolors
- R Colors: http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf?utm_source=twitterfeed&utm_medium=twitter
- R Color Palette Cheatsheet: https://www.nceas.ucsb.edu/sites/default/files/2020-04/colorPaletteCheatsheet.pdf 
- HEX Colors: https://htmlcolorcodes.com/

<!-------------------------->
<!-------------------------->
# Available Palettes
<!-------------------------->
<!-------------------------->

```{r, eval=TRUE, warning=FALSE, message=FALSE}
library(jgcricolors)

# See all available color palettes
names(jgcricol())

# Load a color palette
mypal1 <- jgcricol()$pal_basic  # To load values only
mypal2 <- jgcricol("pal_basic") # To see an example piechart and values

```


<!-------------------------->
# Visualize Palettes
<!-------------------------->

```{r, echo=FALSE, eval=TRUE, warning=FALSE, message=FALSE,results = 'asis'}
library(jgcricolors)
library(ggplot2)

# See all available color palettes
my_pals <- names(jgcricol())[!names(jgcricol()) %in% c("pal_all","pal_sankey")]
 
for(i in my_pals){
  mypal <- jgcricol()[[i]]
  cat("  \n##",  i, "  \n")
  cat('<div class="column-left">')
  par(mai = c(0, 0, 0, 0))
  pie(rep(1,length(mypal)),label=names(mypal),col=mypal)
  cat('</div>')
  cat('<div class="column-right">')
  cat('<p></p>')
  cat('<p></p>')

  print(ggplot() +
  geom_polygon(data =  jgcricolors::mapUS49df,
               aes(x = long, y = lat, group = group, fill = subRegion),
               colour = "gray10", lwd=0.5) +
  scale_fill_manual(values=rep(mypal,50)[1:length(unique(jgcricolors::mapUS49df$subRegion))]) +
  theme_void() +
  coord_fixed(ratio = 1.25) +
  theme(legend.position = "none"))

  cat('</div>')
  cat('<div class="clearer"></div>')
  }
```

<!-------------------------->
<!-------------------------->
# JGCRI Themes (pal_all)
<!-------------------------->
<!-------------------------->

`jgcricol("pal_all")` is a comprehensive color palette which applies to most JGCRI and GCAM outputs. These can be used for line and bar charts.

```{r, eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE, results = 'asis'}
library(jgcricolors)
library(ggplot2)

# Set your palette
mypal = jgcricol()$pal_all

# Example lists of different GCAM data
listx <- list(
  # Primary energy colors including CCS
  `Primary energy` = c(
    "a oil","a oil CCS","b natural gas","b natural gas CCS","c coal","c coal CCS",
    "d biomass","d biomass CCS","e nuclear","f hydro","g wind","h solar","i geothermal",
    "j traditional biomass","energy reduction"),
  # Color scheme for electricity generation by aggregate fuel
  `Elec gen by fuel` = c( "a Coal",
      "b Coal w/CCS",
      "c Gas",
      "d Gas w/CCS",
      "e Oil",
      "f Oil w/CCS",
      "g Biomass",
      "h Biomass w/CCS",
      "i Nuclear",
      "j Geothermal",
      "k Hydro",
      "l Wind",
      "m Solar",
      "n CHP",
      "o Battery",
      "energy reduction"),
  
  `Renewable Technologies` = c( "liquids",
  "gas",
  "coal",
  "biomass",
  "nuclear",
  "hydro",
  "wind w/ backup",
  "wind w/ storage",
  "csp w/ backup",
  "csp w/ storage",
  "pv w/ backup",
  "pv w/ storage",
  "rooftop solar",
  "geothermal",
  "cogen",
  "battery",
  "energy reduction"),
  
  # Buildings colors by fuel
  `Buildings by fuel` = c( "liquids",
      "gas",
      "coal",
      "biomass",
      "electricity",
      "trad biomass"),
  
  # Transportation colors by fuel
  `Transport by fuel` = c( "liquids",
      "gas",
      "coal",
      "biomass",
      "electricity",
      "hydrogen"),
  
  # Generic end-use color scheme by numbered fuel
  `End-use numbered` = c( "1 liquids",
      "2 gas",
      "3 coal",
      "4 biomass",
      "5 electricity",
      "6 hydrogen",
      "7 trad biomass",
      "8 district heat",
      "feedstocks",
      "energy reduction"),
  
  # Color scheme for primary fuel costs
  `Primary fuel costs` = c( "regional oil",
      "regional natural gas",
      "regional coal",
      "regional biomass",
      "nuclearFuelGenIII"),
  
  # Colors for emissions by aggregate sector
  `Emiss by sec` = c( "liquid systems",
      "gas systems",
      "coal",
      "biomass systems",
      "electricity",
      "hydrogen",
      "N fertilizer",
      "district heat",
      "building",
      "industry",
      "transportation"),
  
  # Aggregated (more that usual) land use
  `Land use`<- c( "urban",
      "crops",
      "pasture (grazed)",
      "forest (managed)",
      "biomass",
      "forest (unmanaged)",
      "shrubs",
      "grass",
      "desert"),
  
  
  # Refined liquids
  `Refined liquids` = c( "conventional oil",
      "unconventional oil",
      "coal",
      "coal w/CCS",
      "biomass",
      "biomass w/CCS",
      "gas",
      "energy reduction"),
  
  # Color scheme for biomass consumption by use
  `Biomass consumption` = c( "direct buildings",
  "industry",
  "electricity",
  "refining",
  "hydrogen",
  "synthetic gas", 
  "energy reduction"))
              
for(i in 1:length(listx)){
  techs = listx[[i]]              
  data <- data.frame(label=rep(techs,each=4), x=rep(c(1:4),length(techs)), value=runif(4*length(techs)))
  cat("  \n##", names(listx[i]), "  \n")
  print(ggplot(data, aes(x=x,y=value, fill=label)) +
    geom_bar(position="stack", stat="identity",col="black") +
    scale_fill_manual(values=mypal) +
    theme_bw() +
    xlab(NULL) + ylab(NULL))
  cat('<div class="clearer"></div>')
}

```

<!-------------------------->
<!-------------------------->
# Cutsomize Palettes
<!-------------------------->
<!-------------------------->

<!-------------------------->
## Add your own colors to existing palette
<!-------------------------->

Users can add a color to any jgcricolor palette which may be missing by adding a color from the available [R colors](http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf?utm_source=twitterfeed&utm_medium=twitter) of any [HEX color](https://htmlcolorcodes.com) and assigning it a name. For example if a user wants to add two new colors for `animal energy` with the color `human` and for `animal energy` with the HEX color `#FFF700` they can do so as follows.

```{r, eval=TRUE, warning=FALSE, message=FALSE}
library(jgcricolors)
library(graphics)
mypal1 <- jgcricol()$pal_basic  # To load silently
names(mypal1) <- mypal1
mypal2 = c(mypal1,"animal energy"="#FFF700", "human energy"="lawngreen")
pie(rep(1,length(mypal2)),label=names(mypal2),col=mypal2) # Plot as pie chart
```


<!-------------------------->
## Create custom ramped pallete
<!-------------------------->
Users can create their own ramped palettes of any length `n` using the `RcolorBrewer` package and choosing an R palette from the [R color palette cheatsheet](https://www.nceas.ucsb.edu/sites/default/files/2020-04/colorPaletteCheatsheet.pdf). 

```{r, eval=TRUE, warning=FALSE, message=FALSE}
library(RColorBrewer)
library(graphics)
getcol = colorRampPalette(brewer.pal(9, 'Pastel1')); 
values=getcol(9);
pie(rep(1,length(values)),label=names(values),col=values)
```

